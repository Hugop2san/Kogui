<?xml version="1.0" encoding="utf-8" ?>
<ContentPage 
    xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
    xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
    x:Class="kogui.MainPage"
    xmlns:local="clr-namespace:kogui"
    Title="Cores → Frase → Matrix">


    <ScrollView>
        <VerticalStackLayout Padding="30,0" Spacing="25">

            <!-- Seção 1: listagem das chaves instanciadas -->
            <Label 
                Text="Seção 1 — Chaves instanciadas" 
                FontAttributes="Bold" 
                FontSize="18"/>
            
            <!-- plotar meu 'chaves' -->
            <CollectionView 
                x:Name="ChavesCollection" 
                SelectionMode="None" 
                ItemsLayout="VerticalList"
                HeightRequest="200">
                    <CollectionView.ItemTemplate>
                        <DataTemplate>
                            <Frame Padding="8" Margin="4" CornerRadius="6" HasShadow="True">
                                <StackLayout Orientation="Horizontal" Spacing="12">
                                    <Label Text="{Binding Cor}" FontAttributes="Bold" WidthRequest="140"/>
                                    <Label Text="{Binding Componente}" />
                                </StackLayout>
                            </Frame>
                        </DataTemplate>
                    </CollectionView.ItemTemplate>
            </CollectionView>

            <!-- Seção 2: chamada à API + cards + frase -->
            <Label 
                Text="Seção 2 — Cores obtidas da API + Frase" 
                FontAttributes="Bold" 
                FontSize="18"/>

            <Button 
                Text="Obter nomes (The Color API) e formar frase" 
                Clicked="OnFetchColorsClicked"
                HorizontalOptions="Fill"/>

            <CollectionView 
                x:Name="ColorCards" 
                SelectionMode="None" 
                ItemsLayout="HorizontalList" 
                HeightRequest="120">
                    <CollectionView.ItemTemplate>
                        <DataTemplate>
                            <Frame Padding="8" Margin="6" CornerRadius="8" HasShadow="True">
                                <StackLayout HorizontalOptions="Center" VerticalOptions="Center">
                                    <BoxView WidthRequest="60" HeightRequest="40" BackgroundColor="LightGray" />
                                    <Label Text="{Binding Name}" FontAttributes="Bold" HorizontalOptions="Center"/>
                                    <Label Text="{Binding Hex}" HorizontalOptions="Center"/>
                                </StackLayout>
                            </Frame>
                        </DataTemplate>
                    </CollectionView.ItemTemplate>
            </CollectionView>

            <Label Text="Frase gerada:" FontAttributes="Bold"/>
            <Label x:Name="FraseLabel" FontSize="16" />

            <Label 
                Text="Seção 3 — Decodificar matriz → figura" 
                FontAttributes="Bold" 
                FontSize="18"/>

            <Button 
                Text="Gerar figura a partir da matriz (par/ímpar → ' ' / '#')" 
                Clicked="OnGenerateFigureClicked"
                HorizontalOptions="Fill"/>

            <ScrollView Orientation="Both" HeightRequest="300">
                <Label x:Name="AsciiArtLabel" FontFamily="Courier New" LineBreakMode="NoWrap" />
            </ScrollView>

            <StackLayout Orientation="Horizontal" Spacing="8" VerticalOptions="Center">
                <Label Text="Nome do objeto (se souber):" VerticalOptions="Center"/>
                <Entry x:Name="ObjectNameEntry" WidthRequest="200"/>
                <Button Text="Salvar nome" Clicked="OnSaveObjectNameClicked"/>
            </StackLayout>

            <Label x:Name="DetectedNameLabel" FontAttributes="Italic" />

        </VerticalStackLayout>
    </ScrollView>

</ContentPage>
